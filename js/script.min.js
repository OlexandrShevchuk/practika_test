function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}function addText(e,t,a,n){void 0!==a.innerText?a.innerText=e+t.value+n:a.textContent=t.value}function addTextofClassname(e,t,a,n){for(let l=0;l<a.length;l++)void 0!==a[l].innerText?a[l].innerText=e+t.value+n:a[l].textContent=t.value}function addTextNoneValue(e,t,a,n){void 0!==a.innerText?a.innerText=e+t+n:a.textContent=t}function buttonCheck(e,t){let a=document.getElementById(e);a.classList.contains(t)?a.classList.remove(t):a.classList.add(t)}function doop(e){e.preventDefault?e.preventDefault():e.returnValue=!1,alert("Ця функція ще допрацьовується))")}function randomNumber(e){for(var t,a,n=e.length;n;t=parseInt(Math.random()*n),a=e[--n],e[n]=e[t],e[t]=a);return e}function modalWindows(e,t){e.style.display="block",t.onclick=function(){e.style.display="none"},window.onclick=function(t){t.target==e&&(e.style.display="none")}}function addZavdToArray(){numberFormZavd=buttonFormZavd.length;for(let e=0;e<=arrayButtonAddCheck.length;e++)formZavd=document.getElementById(e).value,arrayzavd.push(formZavd);addTextNoneValue("Кількість завдань в пам'яті на данний момент: ",arrayzavd.length,obshchaKilkistZavdanRedactor,"")}function removeZavdToArray(){arrayzavd.splice(0,arrayzavd.length),addTextNoneValue("Кількість завдань в пам'яті на данний момент: ",arrayzavd.length,obshchaKilkistZavdanRedactor,""),biletZavd=document.getElementsByClassName("bilet__task"),inputAddBilet=document.getElementById("redactor__input-kilkist-biletiv").value}testWebP((function(e){1==e&&document.querySelector("body").classList.add("webp")}));let arrayzavd=[],buttonFormZavd=[],arrayBilet=[],arrayButtonAddCheck=[],arrayLevelOne=[],arrayLevelTwo=[],arrayLevelThree=[],defaultValueZavd=2;function send(e,t){e.preventDefault?e.preventDefault():e.returnValue=!1;var a=new XMLHttpRequest;document.getElementById("form-suport");function n(e){e.parentElement.classList.add("_error")}function l(e){return!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.value)}0===function(e){let t=0,a=document.querySelectorAll("._req");for(let e=0;e<a.length;e++){const r=a[e];r.parentElement.classList.remove("_error"),r.classList.contains("_email")?l(r)&&(n(r),t++):""===r.value&&(n(r),t++)}return t}()?(console.log("Отправка запроса"),a.open("POST",t,!0),a.onload=function(){a.status>=200&&a.status<400?(json=JSON.parse(this.response),console.log(json),"success"==json.result?alert("Сообщение отправлено"):alert("Ошибка. Сообщение не отправлено")):alert("Ошибка сервера. Номер: "+a.status)},a.onerror=function(){alert("Ошибка отправки запроса")},a.send(new FormData(e.target))):alert("Заповніть обов'язкові поля")}function addProtokol(e){e.preventDefault?e.preventDefault():e.returnValue=!1,protokol=document.getElementById("protokol-redactor-textarea"),protokolBilet=document.getElementsByClassName("bilet__protokol"),addTextofClassname("",protokol,protokolBilet,"")}function addPIb(e){e.preventDefault?e.preventDefault():e.returnValue=!1,zav=document.getElementById("pib-redactor__zav"),zavName=document.getElementById("pib-redactor__zav-pib"),prep=document.getElementById("pib-redactor__prep"),prepName=document.getElementById("pib-redactor__prep-pib"),zavBilet=document.getElementsByClassName("bilet__zavkaf"),zavNameBilet=document.getElementsByClassName("bilet__zavkafname"),prepBilet=document.getElementsByClassName("bilet__prepod"),prepNameBilet=document.getElementsByClassName("bilet__prepodname"),addTextofClassname("",zav,zavBilet,": "),addTextofClassname(" ",zavName,zavNameBilet,""),addTextofClassname("",prep,prepBilet,": "),addTextofClassname(" ",prepName,prepNameBilet,"")}function addNonespusok(e){e.preventDefault?e.preventDefault():e.returnValue=!1,university=document.getElementById("nonespusok-shablon__input-university"),fakultet=document.getElementById("nonespusok-shablon__input-fakultet"),specialnist=document.getElementById("nonespusok-shablon__input-specialnist"),specializaciya=document.getElementById("nonespusok-shablon__input-specializacia"),osvProg=document.getElementById("nonespusok-shablon__input-osv-prog"),formaNavchannya=document.getElementById("nonespusok-shablon__input-forma-navchannya"),duscuplina=document.getElementById("nonespusok-shablon__input-duscuplina"),universityBilet=document.getElementsByClassName("bilet__university"),fakultetBilet=document.getElementsByClassName("bilet__fakultet"),specialnistBilet=document.getElementsByClassName("bilet__specialnist"),specializaciyaBilet=document.getElementsByClassName("bilet__specializaciya"),osvProgBilet=document.getElementsByClassName("bilet__osvprog"),formaNavchannyaBilet=document.getElementsByClassName("bilet__okr"),duscuplinaBilet=document.getElementsByClassName("bilet__duscuplina"),addTextofClassname("",university,universityBilet,""),addTextofClassname("",fakultet,fakultetBilet,""),addTextofClassname("Спеціальність: ",specialnist,specialnistBilet,""),addTextofClassname("Спеціалізація: ",specializaciya,specializaciyaBilet,""),addTextofClassname("Освітня програма: ",osvProg,osvProgBilet,""),addTextofClassname("ОКР: ",formaNavchannya,formaNavchannyaBilet,""),addTextofClassname("Дисципліна: ",duscuplina,duscuplinaBilet,"")}let valueZavd=document.getElementById("zavd-div__value-zavd");function valueZavdCheck(){return defaultValueZavd=valueZavd.value>0&&valueZavd.value%1==0&&""!==valueZavd.value?valueZavd.value:3,defaultValueZavd}function addBilet(e){if(e.preventDefault?e.preventDefault():e.returnValue=!1,inputAddBilet=document.getElementById("redactor__input-kilkist-biletiv"),$biletForm=document.getElementById("redactor__bilet-shablon"),$bilet=document.getElementsByClassName("bilet"),biletNumber=document.getElementsByClassName("bilet__number"),inputAddBilet.value>1&&inputAddBilet.value%1==0&&""!==inputAddBilet.value){alert(inputAddBilet.value);for(let e=2;e<=inputAddBilet.value;e++)$($bilet[0]).clone().appendTo($biletForm),biletNumber[e-1].innerText="Білет №"+e}else"1"===inputAddBilet.value?alert("На сторінці і так показаний один білет"):alert("Кількість білетів не може бути менше одного")}valueZavd.addEventListener("input",valueZavdCheck);let obshchaKilkistZavdanRedactor=document.getElementById("pib-redactor__kilkist-zavdan");function addZavdToBilet(e){if(e.preventDefault?e.preventDefault():e.returnValue=!1,addZavdToArray(),0===arrayzavd.length)alert("Упс, сталась помилка. Ви не додали свої завдання в масив");else{biletZavd=document.getElementsByClassName("bilet__task"),inputAddBilet=document.getElementById("redactor__input-kilkist-biletiv").value;let e=[];for(let t=0;t<arrayzavd.length;t++)e.push(t);var t=randomNumber(e);for(let e=0;e<defaultValueZavd;e++)arrayBilet[e]=arrayzavd[t[e]];if(""===inputAddBilet)for(let e=0;e<arrayBilet.length;e++)biletZavd[0].innerHTML+="<div>"+(e+1)+". "+arrayBilet[e]+"</div>";else for(let e=0;e<inputAddBilet;e++){let a=[];for(let e=0;e<arrayzavd.length;e++)a.push(e);t=randomNumber(a);for(let e=0;e<defaultValueZavd;e++)arrayBilet[e]=arrayzavd[t[e]];for(let t=0;t<arrayBilet.length;t++)biletZavd[e].innerHTML+="<div>"+(t+1)+". "+arrayBilet[t]+"</div>"}}}function removeZavdToBilet(e){if(e.preventDefault?e.preventDefault():e.returnValue=!1,removeZavdToArray(),biletZavd=document.getElementsByClassName("bilet__task"),""===inputAddBilet)biletZavd[0].innerText="";else for(let e=1;e<=inputAddBilet;e++)biletZavd[e-1].innerText="";alert("Шаблон(и) очищено!")}function addFormZavd(e){e.preventDefault?e.preventDefault():e.returnValue=!1,divForm=document.getElementById("zavd-div__div-textarea"),form=document.getElementById("0"),arrayButtonAddCheck.push(arrayButtonAddCheck.length+1);for(let e=1;e<=arrayButtonAddCheck.length;e++){if(null===document.getElementById(e))$("<div class='zavd-div__div-div-textarea'><textarea name='redactor-zavd' id="+e+" cols='30' rows='10' class='zavd-div__textarea' placeholder='    Впишіть ваше завдання'></textarea></div>").appendTo(divForm)}}function removeFormZavd(e){e.preventDefault?e.preventDefault():e.returnValue=!1,divForm=document.getElementById("zavd-div__div-textarea"),document.getElementById(arrayButtonAddCheck.length).parentElement.remove(),arrayButtonAddCheck.pop()}function modalInfo(e){e.preventDefault?e.preventDefault():e.returnValue=!1,modalWindows(document.getElementById("modalInfo"),document.getElementsByClassName("content-modal__close")[0])}function addRating(e){e.preventDefault?e.preventDefault():e.returnValue=!1,addZavdToArray(),modalWindows(document.getElementById("rating__modal"),document.getElementsByClassName("content-modal__close-rating")[0]);var t=document.getElementById("rating__table");t.innerHTML="";for(let e=0;e<arrayzavd.length;e++)t.innerHTML+="<table class='table-rating__table'><tr class='table-rating__row'><td class='table-rating__column first-column count"+e+"'>"+arrayzavd[e]+"</td><td class='table-rating__column second-column'><div class='table-rating__column-rating'><div class='table-rating__column-rating-text'>Складність завдання</div><div class='table-rating__column-rating-count'><input type='radio' class='one' name='rating-radio"+(e+1)+"'>1<input type='radio' class='two' name='rating-radio"+(e+1)+"'>2<input type='radio' class='three' name='rating-radio"+(e+1)+"'>3 </div></div></td></tr></table>"}function ratingCount(e){e.preventDefault?e.preventDefault():e.returnValue=!1;var t=[];for(let e=0;e<arrayzavd.length;e++){for(var a=document.getElementsByClassName("count"+e)[0],n=document.getElementsByName("rating-radio"+(e+1)),l=0;l<n.length;l++)n[l].checked&&(t[e]=l+1);1===t[e]?arrayLevelOne.push(a.textContent):2===t[e]?arrayLevelTwo.push(a.textContent):3===t[e]&&arrayLevelThree.push(a.textContent)}if(one=document.getElementById("content-modal__one-level"),two=document.getElementById("content-modal__two-level"),three=document.getElementById("content-modal__three-level"),biletZavd=document.getElementsByClassName("bilet__task"),inputAddBillet=document.getElementById("redactor__input-kilkist-biletiv").value,""===inputAddBillet){var r=arrayZavdforLevel(arrayLevelOne,one.value,arrayLevelTwo,two.value,arrayLevelThree,three.value);for(let e=0;e<r.length;e++)biletZavd[0].innerHTML+="<div>"+(e+1)+". "+r[e]+"</div>"}else for(let e=0;e<inputAddBillet;e++){r=arrayZavdforLevel(arrayLevelOne,one.value,arrayLevelTwo,two.value,arrayLevelThree,three.value);for(let t=0;t<r.length;t++)biletZavd[e].innerHTML+="<div>"+(t+1)+". "+r[t]+"</div>"}arrayLevelOne=[],arrayLevelTwo=[],arrayLevelThree=[],removeZavdToArray()}function arrayZavdforLevel(e,t,a,n,l,r){if(t>0&&t%1==0||n>0&&n%1==0||r>0&&r%1==0){var o=randomArray(e),d=randomArray(a),i=randomArray(l),s=[];for(let e=0;e<t;e++)s.push(o[e]);for(let e=0;e<n;e++)s.push(d[e]);for(let e=0;e<r;e++)s.push(i[e]);return s}}function randomArray(e){var t=[],a=[];for(let a=0;a<e.length;a++)t[a]=a;var n=randomNumber(t);for(let t=0;t<e.length;t++)a[t]=e[n[t]];return a}function downloadBilet(e){e.preventDefault();let t=document.getElementsByClassName("bilet__university")[0].innerText,a=document.getElementsByClassName("bilet__fakultet")[0].innerText,n=document.getElementsByClassName("bilet__specialnist")[0].innerText.substr(15),l=document.getElementsByClassName("bilet__specializaciya")[0].innerText.substr(15),r=document.getElementsByClassName("bilet__osvprog")[0].innerText.substr(18),o=document.getElementsByClassName("bilet__okr")[0].innerText.substr(5),d=document.getElementsByClassName("bilet__duscuplina")[0].innerText.substr(12),i=document.getElementsByClassName("bilet__protokol")[0].innerText,s=document.getElementsByClassName("bilet__zavkaf")[0].innerText,u=document.getElementsByClassName("bilet__zavkafname")[0].innerText,m=document.getElementsByClassName("bilet__prepod")[0].innerText,v=document.getElementsByClassName("bilet__prepodname")[0].innerText,c=document.getElementsByClassName("bilet__number"),p=[];for(let e=0;e<c.length;e++)p[e]=c[e].innerText;let f=document.getElementsByClassName("bilet__task"),y=[];for(let e=0;e<f.length;e++)y[e]=f[e].innerText.split("\n");$.post("js/downloadBilet.php",{university:t,fakultet:a,specialnist:n,specializaciya:l,osvprog:r,okr:o,duscuplina:d,number:p,task:y,protokol:i,zavkaf:s,zavkafname:u,prepod:m,prepodname:v},(function(e){downloadFile(e)}))}window.downloadFile=function(e){if(/(iP)/g.test(navigator.userAgent))return alert("Your device does not support files downloading. Please try again in desktop browser."),!1;if(window.downloadFile.isChrome||window.downloadFile.isSafari){var t=document.createElement("a");if(t.href=e,void 0!==t.download){var a=e.substring(e.lastIndexOf("/")+1,e.length);t.download=a}if(document.createEvent){var n=document.createEvent("MouseEvents");return n.initEvent("click",!0,!0),t.dispatchEvent(n),!0}}return-1===e.indexOf("?")&&(e+="?download"),window.open(e,"_self"),!0},window.downloadFile.isChrome=navigator.userAgent.toLowerCase().indexOf("chrome")>-1,window.downloadFile.isSafari=navigator.userAgent.toLowerCase().indexOf("safari")>-1;